You are a senior full-stack engineer fixing UI/UX and routing issues in my Next.js (App Router) app.

CONTEXT / ISSUES
1) In the signed-in sidebar/navigation, “Settings” must appear ABOVE “Sign Out”.
2) The Settings page must clearly show the user’s profile details (first name, last name, email, jurisdiction preference) and billing info section.
3) The /app/case page is broken (routing, render, or runtime error). Fix it so it loads correctly and matches the signed-in layout.

GOALS
- Reorder navigation actions correctly.
- Ensure Settings page works and displays user details reliably.
- Repair the Case page so it renders without errors.

ASSUMPTIONS
- Next.js App Router + TypeScript
- Fake auth is used (localStorage or cookie) with user data stored under:
  - "tc_reader_auth" = "true"
  - "tc_reader_user" = JSON user profile
- Signed-in area exists under /app/* routes using a shared layout (sidebar/topbar).

REQUIRED CHANGES

A) NAVIGATION ORDER FIX
1) Locate the signed-in sidebar component (e.g., Sidebar.tsx, AppLayout.tsx, or app/app/layout.tsx).
2) Ensure the nav items appear in this order (top to bottom):
   - Document
   - Case
   - Find/Connect with a Lawyer
   - Template
   - AI Lawyer
   - Settings
   - Sign Out
3) “Settings” should be a normal nav link to /app/settings.
4) “Sign Out” should be a button/action at the bottom, visually separated (e.g., divider).
5) Keep existing styling; do not redesign the entire sidebar.

B) SETTINGS PAGE REQUIREMENTS
1) Ensure /app/settings is protected (redirect to /login if not authenticated).
2) Settings page must show user details clearly:
   - First name
   - Last name
   - Email
   - Jurisdiction preference (show “Not set” if empty)
3) Show Billing section (placeholder is fine):
   - Current plan (Free/Pro/Business)
   - Word quota and usage (e.g., 2,300 / 10,000 words)
   - “Upgrade” button linking to /pricing
   - Note “Payments coming soon” if payments aren’t implemented
4) Add “Edit” capability at least for Jurisdiction preference:
   - Save changes back to localStorage
   - Show success message/toast
5) Do NOT place “Sign Out” inside Settings page unless already required, but if present it must be below Settings content and consistent with sidebar order.

C) FIX THE CASE PAGE (BROKEN)
1) Investigate why /app/case is broken:
   - Check for runtime errors, missing imports, incorrect component export, wrong route folder name, or undefined data.
2) Fix /app/case so it loads successfully within the signed-in layout.
3) Implement a stable MVP Case page if current one is too broken:
   - Header: “Cases”
   - Button: “Create Case”
   - Simple form modal/inline form: title (required), description (optional)
   - List of created cases (mock storage in localStorage is OK)
   - Empty state when no cases exist
4) Ensure no console errors and the route renders on refresh.

IMPLEMENTATION NOTES
- Use TypeScript types for user profile and case objects.
- Add safe getters for localStorage:
  - handle JSON parse failures
  - handle missing user profile (redirect to /login or show fallback)
- Do not change unrelated pages or routes.
- Keep UI consistent with existing design components.

DELIVERABLES
1) Updated sidebar/nav component code showing Settings above Sign Out.
2) Updated /app/settings page code showing user details + billing section.
3) Fixed /app/case page code that renders correctly, with basic create/list functionality.
4) Brief note on what caused the Case page to break and how you fixed it.

DO NOT
- Do not introduce real authentication providers.
- Do not add payment integrations.
- Do not remove core features.
- Do not expose API keys.

Provide complete code patches (not pseudo-code) for the files you changed.

